# @heking.wu/countdown

ä¸€ä¸ª **è½»é‡çº§ã€é«˜ç²¾åº¦ã€æ— ä¾èµ–** çš„ JavaScript å€’è®¡æ—¶å·¥å…·ï¼Œæ”¯æŒæ¯«ç§’çº§æ›´æ–°ã€æ ¼å¼åŒ–è¾“å‡ºã€è‡ªåŠ¨å¼€å§‹ã€æš‚åœã€é‡ç½®ç­‰èƒ½åŠ›ã€‚

é€‚ç”¨äºï¼š

- Web åº”ç”¨
- Vue / React é¡¹ç›®
- Node ç¯å¢ƒ
- æ´»åŠ¨å€’è®¡æ—¶
- æ”¯ä»˜å€’è®¡æ—¶
- éªŒè¯ç å€’è®¡æ—¶

---

## ğŸ“¦ å®‰è£…

```bash
pnpm add @heking.wu/countdown
# æˆ–
npm install @heking.wu/countdown
# æˆ–
yarn add @heking.wu/countdown
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

```ts
import CountDown from "@heking.wu/countdown";

const cd = new CountDown({
  time: 60 * 1000,
  format: "mm:ss",
  onChange(time, formatted) {
    console.log(formatted);
  },
  onFinish() {
    console.log("å€’è®¡æ—¶ç»“æŸ");
  },
});
```

---

## âš™ï¸ é…ç½®é¡¹

| å‚æ•°        | ç±»å‹     | é»˜è®¤å€¼     | è¯´æ˜                 |
| ----------- | -------- | ---------- | -------------------- |
| time        | number   | 0          | å€’è®¡æ—¶æ€»æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |
| millisecond | boolean  | false      | æ˜¯å¦å¼€å¯æ¯«ç§’çº§æ›´æ–°   |
| format      | string   | `HH:mm:ss` | æ—¶é—´æ ¼å¼             |
| autoStart   | boolean  | true       | æ˜¯å¦è‡ªåŠ¨å¼€å§‹         |
| onChange    | function | -          | æ—¶é—´å˜åŒ–å›è°ƒ         |
| onFinish    | function | -          | å€’è®¡æ—¶ç»“æŸå›è°ƒ       |

---

## ğŸ§  API

### âœ… start()

å¼€å§‹å€’è®¡æ—¶ã€‚

```ts
cd.start();
```

---

### â¸ pause()

æš‚åœå€’è®¡æ—¶ã€‚

```ts
cd.pause();
```

---

### ğŸ”„ reset(time?)

é‡ç½®å€’è®¡æ—¶ã€‚

```ts
cd.reset(5000); // é‡ç½®ä¸º5ç§’
```

ä¸ä¼ å‚æ•°åˆ™æ¢å¤ä¸ºåˆå§‹æ—¶é—´ã€‚

---

### ğŸ’¥ destroy()

é”€æ¯å®ä¾‹ï¼Œæ¸…é™¤å®šæ—¶å™¨å’Œå›è°ƒã€‚

```ts
cd.destroy();
```

---

## ğŸ•’ æ—¶é—´æ ¼å¼

æ”¯æŒä»¥ä¸‹å ä½ç¬¦ï¼š

| æ ¼å¼ | å«ä¹‰ |
| ---- | ---- |
| DD   | å¤©   |
| HH   | å°æ—¶ |
| mm   | åˆ†é’Ÿ |
| ss   | ç§’   |
| SSS  | æ¯«ç§’ |

ç¤ºä¾‹ï¼š

```ts
format: "HH:mm:ss";
format: "mm:ss";
format: "ss.SSS";
format: "DDå¤©HHæ—¶mmåˆ†";
```

---

## ğŸ¯ å›è°ƒç¤ºä¾‹

### onChange

æ¯æ¬¡æ—¶é—´å˜åŒ–è§¦å‘ã€‚

```ts
onChange(timeData, formatted) {
  console.log(timeData)
  console.log(formatted)
}
```

`timeData` ç¤ºä¾‹ï¼š

```ts
{
  days: 0,
  hours: 1,
  minutes: 20,
  seconds: 30,
  milliseconds: 120
}
```

---

### onFinish

å€’è®¡æ—¶ç»“æŸæ—¶è§¦å‘ï¼š

```ts
onFinish() {
  console.log('Finished!')
}
```

---

## âš¡ ç‰¹æ€§

âœ… æ— ä¾èµ–  
âœ… ä½“ç§¯å°  
âœ… æ”¯æŒ Tree Shaking  
âœ… TypeScript æ”¯æŒ  
âœ… é«˜ç²¾åº¦æ—¶é—´è®¡ç®—  
âœ… æ¯«ç§’çº§åˆ·æ–°  
âœ… æ”¯æŒæ ¼å¼åŒ–è¾“å‡º

---

## ğŸ“„ License

ISC
